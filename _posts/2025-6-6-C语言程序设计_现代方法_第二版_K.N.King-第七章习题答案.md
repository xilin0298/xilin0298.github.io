---
layout: article
title: C语言程序设计_现代方法_第二版_K.N.King-第七章习题答案
---
## 练习题
### 7.1节 1
（a）63
（b）119
（c）2748
### 7.2节 2
（a）合法
（b）合法
（c）不合法
（d）不合法
（e）合法
### 7.2节 3
（a）合法
（b）不合法
（c）合法
（d）合法
### 7.3节 4
（a）合法
（b）合法
（c）合法
（d）非法
### 7.3节 5
（a）合法
（b）0b前缀在 C 语言中表示二进制数（自 C99 起支持，但很多编译器也支持作为扩展），合法
（c）合法
（d）合法
### 7.3节 6
（a）short
（b）short
（c）int
（d）long
### 7.3节 7
（a）\10
（b）\12
（c）\15
（d）\11
### 7.3节 8
（a）\x08
（b）\x0a
（c）\x0d
（d）\x09
### 7.4节 9
int类型
### 7.4节 10
int类型
### 7.4节 11
double类型
### 7.4节 12
i+f中发生了将i转换为f，之后将结果转换为double赋值给的
### 7.4节 13
（a）int
（c）float
（e）double
（b）long
（d）double
（f）int
### 7.4节 14
不是，在f-（int）f的过程中，f会被转换为int
### 7.5节 15
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdint.h>
int main() {
	/*使用 typedef 创建名为 Int8、Int16 和 Int32 的类型。定义这些类型，使它们可以在你的机器上分
别表示 8 位、16 位和 32 位的整数*/
	typedef int8_t Int8;
	typedef int16_t Int16;
	typedef int32_t Int32;
	Int8 a = 100;
	Int16 b = 20000;
	Int32 c = 300000000;
	printf("Int8: %d\n", a);
	printf("Int16: %d\n", b);
	printf("Int32: %d\n", c);
	return 0;
}
```

## 编程题
### 1
int32位的情况下，最小值是46341，平方值是-2147479015
short类型的最小值是182，long和int类似
使用sizeof，规定printf的转换说明为%zu，查看编译器的类型位数
### 2
```c
//假设循环次数是25次
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
    int i, n;
    printf("This program prints a table of squares.\n");
    printf("Enter number of entries in table: ");
    scanf("%d", &n);
    for (i = 1; i <= n; i++)
    {
        printf("%10d%10d\n", i, i * i);
        if (i % 24 == 0)
        {
            printf("Press Enter to continue...");
			getchar();
            getchar();
        }
    }
    return 0;
}
```
### 3
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <math.h>  // 如需用fabs

int main() {
    /* Sums a series of floating-point numbers */
    double n, sum = 0.0;
    const double EPSILON = 1e-10;

    printf("This program sums a series of numbers.\n");
    printf("Enter numbers (0 to terminate): ");
    scanf("%lf", &n);

    while (fabs(n) > EPSILON) {  // 避免直接 != 比较
        sum += n;
        scanf("%lf", &n);
    }

    printf("The sum is: %f\n", sum);
    return 0;
}
```
### 4
```C
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
char convert(char ch)
{
	switch (ch)
	{
	case 'A':
	case 'B':
	case 'C':
		return '2';
	case 'D':
	case 'E':
	case 'F':
		return '3';
	case 'G':
	case 'H':
	case 'I':
		return '4';
	case 'J':
	case 'K':
	case 'L':
		return '5';
	case 'M':
	case 'N':
	case 'O':
		return '6';
	case 'P':
	case 'Q':
	case 'R':
	case 'S':
		return '7';
	case 'T':
	case 'U':
	case 'V':
		return '8';
	case 'W':
	case 'X':
	case 'Y':
	case 'Z':
		return '9';
	default:
		return ch;
	}
}
int main()
{
	
	int ch;
	while (1)
	{
		ch = getchar();
		putchar(convert(ch));
	}
	
}
```
### 5
类似4
### 6
4
2
4
4
8
8

### 7
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
    int num1, denom1, num2, denom2, result_num, result_denom;
	char operator1;//operator is a reserved word in C++, so we use operator1 instead

    printf("Enter two fractions separated by an operator: ");
    scanf("%d/%d %c %d/%d", &num1, &denom1, &operator1, &num2, &denom2);
    switch (operator1) {
        case '+':
            result_num = num1 * denom2 + num2 * denom1;
            result_denom = denom1 * denom2;
            break;
        case '-':
            result_num = num1 * denom2 + num2 * denom1;
            result_denom = denom1 * denom2;  
            break;
		case '*':
            result_num = num1 * num2;
            result_denom = denom1 * denom2;
			break;
        case '/':
            result_num = num1 * denom2;
			result_denom = denom1 * num2;
        default:
            printf("Unsupported operator.\n");
            return 1;  // Exit with error code
	}
    

    printf("The sum is %d/%d\n", result_num, result_denom);

    return 0;  // 添加return语句是个好习惯
}
```
### 8
略
### 9
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
    printf("Enter a 12-hours time:");
	int hour, minute;
	char eve1, eve2;
	scanf("%d:%d %c%c", &hour, &minute,&eve1,&eve2);
	getchar(); 
	if (eve1 == 'P' || eve1 == 'p')
	{
		printf("24-hours time:%d:%d.\n", hour + 12, minute);
		printf("%c", eve2);
	}
    return 0;  
}
```
### 10
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
    printf("Enter a sentence:");
    int a, e, i, o, u;
	a = e = i = o = u = 0;
	char ch;
	while (( ch = getchar() ) != '\n')
	{
		switch (ch) {
		case 'a':
			a++;
			break;
		case 'e':
			e++;
			break;
		case 'i':
			i++;
			break;
		case 'o':
			o++;
			break;
		case 'u':
			u++;
			break;
		default:
			break;
		}
	}
	printf("Number of vowels:\n");
	printf("a: %d\n", a);
	printf("e: %d\n", e);
	printf("i: %d\n", i);
	printf("o: %d\n", o);
	printf("u: %d\n", u);

    return 0;  
}
```
### 11
略
### 12
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
    float num1, num2,num3;
    char operator1,operator2;//operator is a reserved word in C++, so we use operator1 instead
    float res1, res2;
    printf("Enter two fractions separated by an operator: ");
    scanf("%f %c %f %c %f", &num1, &operator1, &num2, &operator2,&num3);
	printf("You entered: %.2f %c %.2f %c %.2f\n", num1, operator1, num2, operator2, num3);
    switch (operator1) {
    case '+':
        res1 = num1+ num2 ;
        break;
    case '-':
        res1 = num1-num2;
        break;
    case '*':
        res1 = num1 * num2;
        break;
    case '/':
        res1 = num1/num2;
    default:
        printf("Unsupported operator.\n");
        return 1;  // Exit with error code
    }
    switch (operator2) {
    case '+':
        res2 = res1 + num3;
        break;
    case '-':
        res2 = res1 - num3;
        break;
    case '*':
        res2 = res1 * num3;
        break;
    case '/':
        res2 = res1 / num3;
    default:
        printf("Unsupported operator.\n");
        return 1;  // Exit with error code
    }

    printf("The sum is %.1f\n", res2);

    return 0;  // 添加return语句是个好习惯
}
```
### 13
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
	printf("Enter a sentence:");
	// 输入示例：hello world .
	int num=0, sum=0;
	while (getchar() != '.')
	{
		sum++;
		while (getchar() != ' ')
		{
			sum++;
		}
		num++;
	}
	
	printf("Average word length: %.2f\n", (float)sum / num);
    return 0;  
}
```

### 14
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <math.h>
int main() {
	printf("Enter a positive number:");
	double x,y,z;
	scanf("%lf", &x);
	for (y = 1.0; fabs(y - sqrt(x)) >= 1e-5; y = (y + x / y) / 2.0)
	{
		printf("Approximation: %.5f\n", y);
	}
    return 0;  
}
```
### 15
```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
	printf("Enter a positive integer:");
	int x,z=1;
	scanf("%d", &x);
	for (int i = 1; i <= x; i++) {
		z *= i;
	}
	printf("Factorial of %d is %d\n", x, z);
    return 0;  
}
```